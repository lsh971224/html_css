<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>고차함수</title>
</head>
<body>
    <script>
        const fruits=['orange','apple','banana','grape'];
        fruits.sort();
        console.log(fruits);
        fruits.reverse();
        console.log(fruits);
        // js는 sort가 문자열 중심으로 sort를 이룸 
        const points =[50,40,30,10,100,70,10,1,4,5];
        points.sort();
        console.log(points);
        //숫자값으로 정렬을 하고 싶을때
        points.sort(function(a,b){
            return b-a;
        })
        console.log(points);
        
        //for문 이용
        const numbers=[1,2,3,4];
        let pows =[];
        // for(let i=0; i<numbers.length;i++){
        //     pows[i] = numbers[i]*numbers[i];
        // }
        // console.log(pows);
        
        for(let i=0;i<numbers.length;i++){
            pows.push(numbers[i]**2);
        }
        console.log(pows);
        pows= [];
       
       //
       for(let num of numbers){
        pows.push(num**2);
       }
       console.log(pows);
       
           //    numbers.forEach(
    //     function(item){
    //         item-=1;
    //         pows[item] = numbers[item]*numbers[item];
    //     }
    //    )
    pows=[];
    numbers.forEach(function(item,index,self){
        console.log('numbers['+index+']='+item);
        console.log(self);
        pows.push(item**2);
    })
    console.log(pows);
    pows=[];
    pows=numbers.map(function(item){
        return item**2;
    });
    console.log(pows);
    
    let roots=pows.map(function(item){
        return Math.sqrt(item);
    });
    console.log(roots);
    
    //predicate -> input output이 있는데 output이 boolean형태로 나오는거
    let filterRes=[1,2,3,4,5,6,7].filter(function(item){
        return item%2!=0;
    });
    console.log(filterRes);
    //reduce는 값이 아래 처럼 있으면 이전값+다음값을 계속 더해가는데 이전값은 전에 더한값들임
    let sum=[1,2,3,4,5,6,7,8,9,10].reduce(function(preval,curval){
        console.log(preval,curval);
        return preval+curval;
    })
    console.log(sum);

    //some은 들어진 배열의 값들의 조건을 비교 하나라도 맞으면 true,false로 결과 값이 나옴

    let some = [12,5,8,1,4].some(function(item){
        return item>11;
    });
    console.log(some);
    //every는 some이랑 다르게 전체가 만족해야됨
    let every = [21,16,88,11,55].every(function(item){
        return item>12;
    });
    console.log(every);
    //find는 해당하는 값에 맞는 true인 요소를 가져옴 그배열의 값을 가져옴
    let find =['me','you','we'].find(function(item){
        return item=='youu';
    })
    console.log(find);

    //findIndex는 이름 그대로 해당하는 값에 인덱스 번호를 가져옴
    let find2 = ['me','you','we'].findIndex(function(item){
        return item=='me';
    });
    console.log(find2);

    let users=[
            {name:'lee', gender:'male'},
            {name:'koo', gender:'male'},
            {name:'choi', gender:'female'}
        ];
        
        // 함수형태로 호출하여서 하는 방법
        // function check(key, val)
        // {
        //     return function(item)
        //     {
        //         return item[key]===val;
        //     }
        // }
        // let index= users.findIndex(check('name', 'choi'));
        
        
        // 익명함수형태로 호출하여서 하는 방법
        let index= users.findIndex(function(item)
        {
            return item['name']==='choi';
        });
        
        console.log(index);



    </script>
</body>
</html>